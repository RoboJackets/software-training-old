<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Week 5</title>
<meta name="author" content="(Kristaps Berzinch, Raymond Ortiz)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://robojackets.github.io/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="https://robojackets.github.io/reveal.js/css/theme/white.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://robojackets.github.io/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Week 5</h1>
</section>

<section id="slide-org5aef980">
<h2 id="org5aef980">What are we doing today?</h2>
<ul>
<li>Classes in C++</li>
<li>Writing a differential drive class</li>

</ul>

</section>
<section id="slide-org93c16ed">
<h2 id="org93c16ed">What are classes?</h2>
<ul>
<li>Definitions for objects, i.e. what data and methods they have
<ul>
<li>In other words, a blueprint for how to create an object</li>

</ul></li>
<li>An object is called an <b>instance</b> of a class
<ul>
<li>An object has all the functions and data structures defined in its class</li>
<li>Data schema is the same across all instances of a class, but values differ</li>
<li>A method can treat all instances of an object the same
<ul>
<li>Think of it like a complex, user defined variable type</li>

</ul></li>

</ul></li>

</ul>
</section>
<section id="slide-orga61fe35">
<h3 id="orga61fe35">Structure</h3>
<aside class="notes">
<p>
talk about the structure of a class
</p>

</aside>
<ul>
<li>Typically declaration in a .h file with implementation in a cpp file
<ul>
<li>This is not a strict rule</li>

</ul></li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">NAME</span> {
    <span style="color: #5e6263;">// </span><span style="color: #5e6263;">decleration of variables</span>
    <span style="color: #5e6263;">// </span><span style="color: #5e6263;">method prototypes</span>
    <span style="color: #5e6263;">//   </span><span style="color: #5e6263;">can be declared in this file or a seperate cpp file</span>
};
</pre>
</div>

</section>
<section id="slide-orgd7ecb3e">
<h2 id="orgd7ecb3e">Why bother?</h2>
<ul>
<li>Software projects are easier to understand when related data and functions are grouped together</li>
<li>Abstracting data behind getters/setters allows you to validate inputs from other parts of your application</li>
<li>Abstracting complex tasks into class methods enables simpler, easier to read high-level code</li>
<li>Classes can be extended to add functionality with minimal extra code using inheritance</li>

</ul>

</section>
<section id="slide-org627e95a">
<h2 id="org627e95a">Scope</h2>
<aside class="notes">
<p>
Make sure to explain the different reason for not giving everything public scope
</p>

</aside>
<ul>
<li>Data and methods can have their scope set in order to have limited availability
<ul>
<li>Prevents unverified values from being inserted in class variables
<ul>
<li>Can force using getters and setters to interact with data</li>

</ul></li>
<li>Hides the internals of your classes</li>

</ul></li>

</ul>
</section>
<section id="slide-orgb96cdba">
<h3 id="orgb96cdba">public</h3>
<ul>
<li>Accessible by everyone</li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">example</span> {
<span style="color: #598249;">public</span>:
    <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">var</span>;
    <span style="color: #598249;">void</span> <span style="color: #2F7BDE;">do_something</span>() {<span style="color: #15968D;">std</span>::cout &lt;&lt; <span style="color: #15968D;">"doing something"</span> &lt;&lt; <span style="color: #15968D;">std</span>::endl;}
};
</pre>
</div>
</section>
<section id="slide-orga1c473b">
<h3 id="orga1c473b">private</h3>
<aside class="notes">
<p>
try to use the private method and then show them the compiler error. Show an exaple of using the var in the class
</p>

</aside>
<ul>
<li>Data and methods are only accessible from within the class itself
<ul>
<li>Forces using setters and getters as an abstraction layer</li>

</ul></li>
<li>implied if no scope is initially set in a class</li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">example</span> {
<span style="color: #598249;">private</span>:
    <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">var</span>;
    <span style="color: #598249;">void</span> <span style="color: #2F7BDE;">do_something</span>() {<span style="color: #15968D;">std</span>::cout &lt;&lt; <span style="color: #15968D;">"doing something"</span> &lt;&lt; <span style="color: #15968D;">std</span>::endl;}
};
</pre>
</div>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">example</span> {
    <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">var</span>;
    <span style="color: #598249;">void</span> <span style="color: #2F7BDE;">do_something</span>() {<span style="color: #15968D;">std</span>::cout &lt;&lt; <span style="color: #15968D;">"doing something"</span> &lt;&lt; <span style="color: #15968D;">std</span>::endl;}
};
</pre>
</div>
</section>
<section id="slide-org93a6455">
<h3 id="org93a6455">review</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Scope Type</th>
<th scope="col" class="org-left">Accessible inside the class</th>
<th scope="col" class="org-left">Accessible outside the class directly</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">private</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
</tr>

<tr>
<td class="org-left">public</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>
</tbody>
</table>
</section>
<section id="slide-orgf06e8a6">
<h2 id="orgf06e8a6">A simple example</h2>
<aside class="notes">
<p>
A class can have some data and some methods, which can either be public or private. Drop to a terminal and use/modify this class.
</p>

</aside>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">example</span> {
    <span style="color: #598249;">private</span>:         <span style="color: #5e6263;">// </span><span style="color: #5e6263;">private is also implied if you don't specify visibility</span>
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">a</span>;
    <span style="color: #598249;">public</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">getA</span>() { <span style="color: #598249;">return</span> a; }
};
</pre>
</div>

</section>
<section id="slide-orgde898c8">
<h2 id="orgde898c8">Constructors and Destructors</h2>
<aside class="notes">
<p>
DO NOT go into why some constructors might be private.
</p>

</aside>
<ul>
<li>Often there are things that are required to create or destroy an instance of a class</li>
<li>We put the construction code in constructors</li>
<li>We put the destruction code in destructors</li>
<li>Usually public, scope still applies to these methods</li>

</ul>
</section>
<section id="slide-org8832059">
<h3 id="org8832059">Constructors</h3>
<aside class="notes">
<p>
use this version of the class
</p>

</aside>
<ul>
<li>Called whenever an object is created</li>
<li>Can have multiple constructors as long as they have different argument lists</li>
<li>Contains all of the code to create and initialize all of an object's members</li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">example</span> {
    <span style="color: #598249;">private</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">a</span>;
        <span style="color: #5e6263;">// </span><span style="color: #5e6263;">lots of important variables that live on the heap</span>
    <span style="color: #598249;">public</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">getA</span>() { <span style="color: #598249;">return</span> a; }
        <span style="color: #2F7BDE;">example</span>() {
            <span style="color: #15968D;">std</span>::cout &lt;&lt; <span style="color: #15968D;">"Creating an example"</span> &lt;&lt; <span style="color: #15968D;">std</span>::endl;
            <span style="color: #5e6263;">/* </span><span style="color: #5e6263;">allocating all the memory */</span>
        };
        <span style="color: #2F7BDE;">example</span>(<span style="color: #598249;">int</span> <span style="color: #2F7BDE;">a_local</span>) {
            a = a_local;
            <span style="color: #5e6263;">/* </span><span style="color: #5e6263;">allocating all the memory */</span>
        }
};
</pre>
</div>
</section>
<section id="slide-orge2f0e33">
<h3 id="orge2f0e33">Destructors</h3>
<aside class="notes">
<p>
use this version of the class. Make sure to destruct the object
</p>

</aside>
<ul>
<li>This is always a no argument method</li>
<li>Contains all of the code to destory and deallocate all an objects members</li>
<li>Can only have one destructor</li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">example</span> {
    <span style="color: #598249;">private</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">a</span>;
        <span style="color: #5e6263;">// </span><span style="color: #5e6263;">lots of important variables from the heap</span>
    <span style="color: #598249;">public</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">getA</span>() { <span style="color: #598249;">return</span> a; }
        <span style="color: #5e6263;">// </span><span style="color: #5e6263;">... constructors</span>
        ~<span style="color: #2F7BDE;">example</span>() {<span style="color: #5e6263;">/* </span><span style="color: #5e6263;">lots of deletes */</span>};
};
</pre>
</div>
</section>
<section id="slide-orgb174719">
<h2 id="orgb174719">Static members</h2>
<aside class="notes">
<p>
Drop to a terminal and use this class.
</p>

</aside>
<ul>
<li>For when you want data or functions to be part of your class, but they don't need to be "attached" to an instance of the class</li>
<li>Static data is shared between all instances of a class</li>
<li>Remember the <code>static</code> keyword means something else outside of class definitions!</li>
<li>Static variables must be initialized before use
<ul>
<li>accessed by the <b>::</b> operator</li>

</ul></li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">static_example</span> {
    <span style="color: #598249;">private</span>:
        <span style="color: #598249;">static</span> <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">a</span>;
    <span style="color: #598249;">public</span>:
        <span style="color: #2F7BDE;">static_example</span>() {a++;}
        <span style="color: #598249;">static</span> <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">getA</span>() { <span style="color: #598249;">return</span> a; }
};
<span style="color: #5e6263;">// </span><span style="color: #5e6263;">init in implementing class</span>
<span style="color: #598249;">int</span> <span style="color: #15968D;">static_example</span>::<span style="color: #2F7BDE;">a</span> = 0;
</pre>
</div>
</section>
<section id="slide-org8d32809">
<h2 id="org8d32809">Inheritance</h2>
<aside class="notes">
<p>
pull up the two classes we have written so far and use the methods of the subclass under different circumstances
</p>

</aside>
<ul>
<li>Classes can inherit data and methods from other classes</li>

</ul>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">class</span> <span style="color: #598249;">child</span>: <span style="color: #598249;">public</span> <span style="color: #598249;">example</span> {
    <span style="color: #5e6263;">// </span><span style="color: #5e6263;">we get `a` and `getA()` from example</span>
    <span style="color: #598249;">private</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">b</span>;
    <span style="color: #598249;">public</span>:
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">getB</span>() { <span style="color: #598249;">return</span> b; }
        <span style="color: #598249;">int</span> <span style="color: #2F7BDE;">getAplusB</span>() { <span style="color: #598249;">return</span> getA() + b; } <span style="color: #5e6263;">// </span><span style="color: #5e6263;">we can't use `a` directly since it's private</span>
};
</pre>
</div>

</section>
<section id="slide-org9a00fe6">
<h3 id="org9a00fe6">Example code</h3>
<aside class="notes">
<p>
mention that you can go up the class structure but not down
</p>

</aside>

<div class="figure">
<p><img src="https://i.imgur.com/9cF7NTq.png" alt="9cF7NTq.png" width="50%" />
</p>
</div>

</section>
<section id="slide-orge0171f3">
<h2 id="orge0171f3">Scope and inheritence</h2>
<aside class="notes">
<p>
make sure to explain every bullet
</p>

</aside>
<ul>
<li>Scope applies across subclasses</li>

</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">scope</th>
<th scope="col" class="org-left">subclasses</th>
<th scope="col" class="org-left">externally</th>
<th scope="col" class="org-left">internally</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">private</td>
<td class="org-left">no</td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
</tr>

<tr>
<td class="org-left">protected</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
</tr>

<tr>
<td class="org-left">public</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-orge907045">
<h2 id="orge907045">Polymorphism</h2>
<aside class="notes">
<p>
explain how dynamic cast is used to change what an object is
</p>

</aside>
<ul>
<li>Now we can create <code>child</code> objects with all the properties of an <code>example</code> object</li>
<li><p>
This means we can safely cast a <code>child</code> object to an <code>example</code> object
</p>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">child</span> <span style="color: #2F7BDE;">c</span>;
<span style="color: #598249;">example</span>&amp; <span style="color: #2F7BDE;">e</span> = <span style="color: #598249;">dynamic_cast</span>&lt;<span style="color: #598249;">example</span>&amp;&gt;(c);
</pre>
</div></li>
<li><p>
But not the other way around
</p>
<div class="org-src-container">

<pre  class="src src-c++"><span style="color: #598249;">example</span> <span style="color: #2F7BDE;">e</span>;
<span style="color: #598249;">child</span>&amp; <span style="color: #2F7BDE;">c</span> = <span style="color: #598249;">dynamic_cast</span>&lt;<span style="color: #598249;">child</span>&amp;&gt;(e);
</pre>
</div>
<pre  class="example">
example.cpp: In function ‘int main()’:
example.cpp:20:38: error: cannot dynamic_cast ‘e’ (of type ‘class example’) to type
‘class child&amp;’ (source type is not polymorphic)
     child&amp; c = dynamic_cast&lt;child&amp;&gt;(e);
				     ^
</pre></li>

</ul>

</section>
<section id="slide-orge682734">
<h2 id="orge682734">Virtual functions</h2>
<aside class="notes">
<p>
Show an example using the classes defined in the example code and explained earlier
</p>

</aside>
<ul>
<li>A parent class can specify that certain functions are <b>virtual</b></li>
<li>Child classes can then implement their own versions of the function</li>
<li>The child implementation will be called even from a reference of the type of the parent
<ul>
<li>If the function isn't marked virtual, which implementation is called depends on the type of the reference</li>

</ul></li>

</ul>

</section>
<section id="slide-org1fc09fd">
<h2 id="org1fc09fd">Questions?</h2>
<ul>
<li>Ask here or on Piazza!</li>

</ul>
</section>
</section>
</div>
</div>
<script src="https://robojackets.github.io/reveal.js/lib/js/head.min.js"></script>
<script src="https://robojackets.github.io/reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: false,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
overview: true,
width: 1440,
height: 800,
margin: 0.15,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'fast',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://robojackets.github.io/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
]
});
</script>
</body>
</html>
